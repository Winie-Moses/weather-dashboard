
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard - Real-time Weather Forecast</title>
    <meta name="description" content="Get real-time weather forecasts and current conditions for any location. Beautiful, responsive weather dashboard with 5-day forecasts.">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        .animation-delay-150 {
            animation-delay: 150ms;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600">
    <div class="min-h-screen p-4 sm:p-6 lg:p-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4">
                    Weather Dashboard
                </h1>
                <p class="text-xl text-white/80">
                    Real-time weather forecast for your location
                </p>
            </div>

            <!-- Location Search -->
            <div class="mb-8">
                <form id="searchForm" class="max-w-md mx-auto">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i data-lucide="map-pin" class="h-5 w-5 text-white/60"></i>
                        </div>
                        <input
                            type="text"
                            id="searchInput"
                            placeholder="Search for a city..."
                            class="w-full pl-12 pr-24 py-3 bg-white/10 backdrop-blur-md border border-white/20 text-white placeholder-white/60 rounded-2xl focus:bg-white/20 focus:border-white/40 transition-all duration-300 outline-none"
                        />
                        <div class="absolute inset-y-0 right-0 pr-2 flex items-center">
                            <button
                                type="submit"
                                class="px-4 py-2 bg-white/20 hover:bg-white/30 text-white border-none rounded-xl backdrop-blur-sm transition-all duration-300"
                            >
                                <i data-lucide="search" class="h-4 w-4"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="hidden justify-center items-center py-16">
                <div class="relative">
                    <div class="w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin"></div>
                    <div class="absolute inset-0 w-16 h-16 border-4 border-transparent border-r-white/40 rounded-full animate-spin animation-delay-150"></div>
                </div>
            </div>

            <!-- Current Weather -->
            <div id="currentWeather" class="hidden space-y-8">
                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 sm:p-8 lg:p-10 border border-white/20 shadow-2xl">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                        <!-- Main Weather Info -->
                        <div class="flex flex-col items-center lg:items-start text-center lg:text-left">
                            <div class="flex items-center gap-4 mb-6">
                                <div id="weatherIcon" class="flex items-center justify-center">
                                    <!-- Weather icon will be inserted here -->
                                </div>
                                <div>
                                    <h2 id="temperature" class="text-5xl sm:text-6xl lg:text-7xl font-bold text-white">
                                        --°
                                    </h2>
                                    <p id="description" class="text-xl text-white/80 capitalize">
                                        --
                                    </p>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h3 id="location" class="text-2xl sm:text-3xl font-semibold text-white">
                                    --, --
                                </h3>
                                <p id="feelsLike" class="text-lg text-white/70">
                                    Feels like --°
                                </p>
                            </div>
                        </div>

                        <!-- Weather Details -->
                        <div class="grid grid-cols-2 gap-4 sm:gap-6">
                            <div class="bg-white/10 rounded-2xl p-4 sm:p-6 backdrop-blur-sm">
                                <div class="flex items-center gap-3 mb-2">
                                    <i data-lucide="thermometer" class="text-orange-300" size="24"></i>
                                    <span class="text-white/80 font-medium">Temperature</span>
                                </div>
                                <p id="tempDetail" class="text-2xl font-bold text-white">
                                    --°C
                                </p>
                            </div>

                            <div class="bg-white/10 rounded-2xl p-4 sm:p-6 backdrop-blur-sm">
                                <div class="flex items-center gap-3 mb-2">
                                    <i data-lucide="droplets" class="text-blue-300" size="24"></i>
                                    <span class="text-white/80 font-medium">Humidity</span>
                                </div>
                                <p id="humidity" class="text-2xl font-bold text-white">
                                    --%
                                </p>
                            </div>

                            <div class="bg-white/10 rounded-2xl p-4 sm:p-6 backdrop-blur-sm">
                                <div class="flex items-center gap-3 mb-2">
                                    <i data-lucide="wind" class="text-green-300" size="24"></i>
                                    <span class="text-white/80 font-medium">Wind Speed</span>
                                </div>
                                <p id="windSpeed" class="text-2xl font-bold text-white">
                                    -- km/h
                                </p>
                            </div>

                            <div class="bg-white/10 rounded-2xl p-4 sm:p-6 backdrop-blur-sm">
                                <div class="flex items-center gap-3 mb-2">
                                    <i data-lucide="eye" class="text-purple-300" size="24"></i>
                                    <span class="text-white/80 font-medium">Pressure</span>
                                </div>
                                <p id="pressure" class="text-2xl font-bold text-white">
                                    -- hPa
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5-Day Forecast -->
                <div id="forecastSection" class="bg-white/10 backdrop-blur-md rounded-3xl p-6 sm:p-8">
                    <h2 class="text-2xl sm:text-3xl font-bold text-white mb-6">
                        5-Day Forecast
                    </h2>
                    <div id="forecastCards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
                        <!-- Forecast cards will be inserted here -->
                    </div>
                </div>
            </div>

            
        </div>
    </div>

    <script>
        // Replace with your OpenWeather API key
        const API_KEY = "your-api-key-here";
        
        let coordinates = null;
        let currentCity = "";

        // DOM Elements
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const currentWeather = document.getElementById('currentWeather');
        const apiKeyWarning = document.getElementById('apiKeyWarning');

        // Weather icon mapping
        function getWeatherIcon(iconCode) {
            const iconMap = {
                '01d': 'sun',
                '01n': 'sun',
                '02d': 'cloud-sun',
                '02n': 'cloud-sun',
                '03d': 'cloud',
                '03n': 'cloud',
                '04d': 'cloud',
                '04n': 'cloud',
                '09d': 'cloud-drizzle',
                '09n': 'cloud-drizzle',
                '10d': 'cloud-rain',
                '10n': 'cloud-rain',
                '11d': 'zap',
                '11n': 'zap',
                '13d': 'cloud-snow',
                '13n': 'cloud-snow',
                '50d': 'wind',
                '50n': 'wind'
            };
            return iconMap[iconCode] || 'sun';
        }

        // Show loading state
        function showLoading() {
            loadingSpinner.classList.remove('hidden');
            loadingSpinner.classList.add('flex');
            currentWeather.classList.add('hidden');
        }

        // Hide loading state
        function hideLoading() {
            loadingSpinner.classList.add('hidden');
            loadingSpinner.classList.remove('flex');
            currentWeather.classList.remove('hidden');
        }

        // Update current weather display
        function updateCurrentWeather(data) {
            const weather = data.weather[0];
            
            // Update weather icon
            const weatherIconEl = document.getElementById('weatherIcon');
            weatherIconEl.innerHTML = `<i data-lucide="${getWeatherIcon(weather.icon)}" class="text-yellow-400" size="80"></i>`;
            
            // Update temperature and description
            document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}°`;
            document.getElementById('description').textContent = weather.description;
            
            // Update location
            document.getElementById('location').textContent = `${data.name}, ${data.sys.country}`;
            document.getElementById('feelsLike').textContent = `Feels like ${Math.round(data.main.feels_like)}°`;
            
            // Update weather details
            document.getElementById('tempDetail').textContent = `${Math.round(data.main.temp)}°C`;
            document.getElementById('humidity').textContent = `${data.main.humidity}%`;
            document.getElementById('windSpeed').textContent = `${Math.round(data.wind.speed * 3.6)} km/h`;
            document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;
            
            // Re-initialize Lucide icons
            lucide.createIcons();
        }

        // Update forecast display
        function updateForecast(data) {
            const forecastCards = document.getElementById('forecastCards');
            forecastCards.innerHTML = '';
            
            // Filter to get one forecast per day (every 8th item, as data comes in 3-hour intervals)
            const dailyForecasts = data.list.filter((_, index) => index % 8 === 0).slice(0, 5);
            
            dailyForecasts.forEach(forecast => {
                const date = new Date(forecast.dt * 1000);
                const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                const weather = forecast.weather[0];
                
                const card = document.createElement('div');
                card.className = 'bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6 text-center border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105';
                
                card.innerHTML = `
                    <h3 class="text-lg font-semibold text-white mb-3">${dayName}</h3>
                    <div class="flex justify-center mb-3">
                        <i data-lucide="${getWeatherIcon(weather.icon)}" class="text-yellow-400" size="48"></i>
                    </div>
                    <p class="text-2xl font-bold text-white mb-2">${Math.round(forecast.main.temp)}°</p>
                    <p class="text-sm text-white/70 capitalize">${weather.description}</p>
                `;
                
                forecastCards.appendChild(card);
            });
            
            // Re-initialize Lucide icons
            lucide.createIcons();
        }

        // Fetch weather data
        async function fetchWeatherData(query) {
            if (API_KEY === "your-api-key-here") {
                apiKeyWarning.classList.remove('hidden');
                return;
            }
            
            apiKeyWarning.classList.add('hidden');
            showLoading();
            
            try {
                let weatherUrl, forecastUrl;
                
                if (query.includes(',')) {
                    // Coordinates query
                    const [lat, lon] = query.split(',');
                    weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;
                    forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;
                } else {
                    // City query
                    weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${query}&appid=${API_KEY}&units=metric`;
                    forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${query}&appid=${API_KEY}&units=metric`;
                }
                
                const [weatherResponse, forecastResponse] = await Promise.all([
                    fetch(weatherUrl),
                    fetch(forecastUrl)
                ]);
                
                if (!weatherResponse.ok || !forecastResponse.ok) {
                    throw new Error('Weather data not found');
                }
                
                const weatherData = await weatherResponse.json();
                const forecastData = await forecastResponse.json();
                
                updateCurrentWeather(weatherData);
                updateForecast(forecastData);
                hideLoading();
                
            } catch (error) {
                console.error('Error fetching weather data:', error);
                hideLoading();
                alert('Unable to fetch weather data. Please try again.');
            }
        }

        // Get user's geolocation
        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        coordinates = {
                            lat: position.coords.latitude,
                            lon: position.coords.longitude
                        };
                        fetchWeatherData(`${coordinates.lat},${coordinates.lon}`);
                    },
                    (error) => {
                        console.error("Geolocation error:", error);
                        alert("Unable to get your location. Please search for a city.");
                    }
                );
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Handle search form submission
        searchForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const query = searchInput.value.trim();
            if (query) {
                currentCity = query;
                coordinates = null;
                fetchWeatherData(query);
                searchInput.value = '';
            }
        });

        // Initialize Lucide icons
        lucide.createIcons();

        // Get current location on page load
        getCurrentLocation();
    </script>
</body>
</html>
